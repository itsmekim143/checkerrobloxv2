<!DOCTYPE html>
<html>
<head>
    <title>Module Admin</title>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-database-compat.js"></script>
    <style>
        body { font-family: sans-serif; background: #121212; color: #fff; padding: 20px; }
        .section { background: #1e1e1e; padding: 15px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #333; }
        input { padding: 8px; border-radius: 4px; border: none; }
        button { padding: 8px 12px; border: none; border-radius: 4px; cursor: pointer; font-weight: bold; }
        .red { background: #ff4d4d; color: #fff; }
        .green { background: #4CAF50; color: #fff; }
        table { width: 100%; border-collapse: collapse; margin-top: 15px; }
        th, td { padding: 10px; text-align: left; border-bottom: 1px solid #333; }
        th { color: #888; font-size: 12px; }
    </style>
</head>
<body>

    <div class="section">
        <h2>Blacklist Controls</h2>
        <input type="text" id="target" placeholder="Username">
        <button class="red" onclick="ban(true)">BAN</button>
        <button class="green" onclick="ban(false)">UNBAN</button>
    </div>

    <div class="section">
        <h2>Live Logs (Who is using your script)</h2>
        <table>
            <thead>
                <tr>
                    <th>User</th>
                    <th>Game Name</th>
                    <th>Game Creator ID</th>
                    <th>Time</th>
                </tr>
            </thead>
            <tbody id="logs"></tbody>
        </table>
    </div>

    <script>
        const firebaseConfig = {
            databaseURL: "https://robloxadmin-e98ad-default-rtdb.asia-southeast1.firebasedatabase.app",
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        function ban(state) {
            const user = document.getElementById('target').value;
            if(user) {
                db.ref('blacklist/' + user).set(state);
                alert("Updated " + user);
            }
        }

        db.ref('logs').limitToLast(15).on('value', (snap) => {
            const list = document.getElementById('logs');
            list.innerHTML = "";
            snap.forEach((child) => {
                const data = child.val();
                list.innerHTML = `<tr>
                    <td style="color:#00aaff">${data.username}</td>
                    <td>${data.gameName}</td>
                    <td>${data.creator}</td>
                    <td style="color:#666">${data.time}</td>
                </tr>` + list.innerHTML;
            });
        });
    </script>
</body>
</html>
